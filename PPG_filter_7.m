function y = PPG_filter_7(x)
%PPG_FILTER_7 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.8 and DSP System Toolbox 9.10.
% Generated on: 14-Oct-2020 17:26:33

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 1000;  % Sampling Frequency
    %
    % Fpass = 7;               % Passband Frequency
    % Fstop = 10;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.01;            % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.00564917652228809 -0.000561030920795385 ...
        -0.000585297090651504 -0.000613392864643802 -0.00063714309731461 ...
        -0.000664582413458953 -0.000687394047905297 -0.000713636296069794 ...
        -0.000734836916913251 -0.000759166927519048 -0.000778010513322322 ...
        -0.000799978307963765 -0.000816388832898544 -0.000836571675350147 ...
        -0.000851506665753313 -0.000871028401941008 -0.000883970367518158 ...
        -0.000900054206178999 -0.000903064332697958 -0.000917566190108477 ...
        -0.000925816672035829 -0.000930671517159595 -0.000935004048550001 ...
        -0.000937741859927759 -0.000937197903609569 -0.00093610252385712 ...
        -0.000930830545916118 -0.000925378087622209 -0.000915517938181733 ...
        -0.000905839094150332 -0.000891698336098395 -0.000877748138952258 ...
        -0.000858813413340542 -0.000839573934179043 -0.000815245143637052 ...
        -0.000791346731263913 -0.000763652885540707 -0.00073541690090017 ...
        -0.000700654891145056 -0.000669045829650577 -0.000630220922820118 ...
        -0.000592923460347705 -0.000549944000669254 -0.000507931244433517 ...
        -0.000460692021432531 -0.000414521747295659 -0.000363332968837833 ...
        -0.000313192406397168 -0.000258051565730504 -0.00020395818316426 ...
        -0.000145238105986163 -8.80631961032996e-05 -2.66942753039462e-05 ...
        3.32509931339174e-05 9.76040007685686e-05 0.000160134189965881 ...
        0.000225557203644323 0.000290153968786913 0.000357680687338499 ...
        0.000422758089838919 0.000491301242235911 0.000556764329543758 ...
        0.000625346096621304 0.00069071197596245 0.000758862263434536 ...
        0.000823500837020355 0.000890435823949751 0.000953372703262313 ...
        0.00101823622047992 0.00107893824981192 0.00114131841271479 ...
        0.00119903642355467 0.00125780358022125 0.0013116360028037 ...
        0.00136671507068421 0.00141608534063225 0.00146574090102883 ...
        0.00151023832286883 0.00155421749985811 0.00159272619320376 ...
        0.00163063031306259 0.00166251097646845 0.00169349145302075 ...
        0.0017180538528681 0.00174146104260345 0.00175827612387598 ...
        0.00177369788161719 0.00178217491433402 0.00178894895014138 ...
        0.00178866706169709 0.00178664093365372 0.0017773228928091 ...
        0.00176577168794173 0.00174691215040528 0.00172618628546403 ...
        0.00169758477397891 0.00166715704011282 0.00162905377280144 ...
        0.00158871465351361 0.00154093696740458 0.00149088893351749 ...
        0.00143354383251466 0.00137399573658132 0.00130722191949569 ...
        0.0012383300660501 0.00116249972544881 0.00108476287949243 ...
        0.00100026337727936 0.000913944245483795 0.000821212528397549 ...
        0.000727140526321063 0.000627027046118917 0.000525581421484495 ...
        0.00041873946508293 0.000311016182430217 0.000198041321313486 ...
        8.49404214877799e-05 -3.30062972378449e-05 -0.000150628377802098 ...
        -0.000272497041410604 -0.000393572317850755 -0.000518207632474128 ...
        -0.000641475648226786 -0.000767734089934754 -0.000892090267728646 ...
        -0.00101868868690765 -0.00114265770924771 -0.00126815799817963 ...
        -0.00139051221004003 -0.00151368275289244 -0.001632851274335 ...
        -0.00175216030808459 -0.00186693234553739 -0.00198077994615671 ...
        -0.00208958900728379 -0.00219670654595064 -0.00229795142200745 ...
        -0.00239682867106339 -0.00248905790313131 -0.00257823242858721 ...
        -0.00266009650545895 -0.0027380877990667 -0.002808024100928 ...
        -0.00287340448168746 -0.00293014841809055 -0.00298164655339628 ...
        -0.00302380348418043 -0.00306003356738356 -0.00308645371497825 ...
        -0.00310630722022104 -0.00311566414739369 -0.00311807430192534 ...
        -0.00310943850628714 -0.00309321449526719 -0.00306571651996931 ...
        -0.00303006488775246 -0.0029828401761419 -0.00292702242777762 ...
        -0.00285927526985806 -0.00278266626145204 -0.00269397149883711 ...
        -0.0025961294529883 -0.00248601321704277 -0.00236657539562549 ...
        -0.00223486002373023 -0.00209374617894246 -0.0019403015643772 ...
        -0.00177744369636902 -0.00160247454743406 -0.00141807182730666 ...
        -0.00122173547930658 -0.00101631209052853 -0.000799060087120097 ...
        -0.00057302727433589 -0.000335537313278097 -8.95818348332997e-05 ...
        0.000167266610850078 0.000432209509897599 0.000707544855642286 ...
        0.000990433370464489 0.00128303602430044 0.00158261356471639 ...
        0.00189122924360331 0.00220617083070196 0.00252930786119086 ...
        0.00285801581397322 0.00319412208016574 0.00353494341090024 ...
        0.00388217678303762 0.00423342471942588 0.00458998959358492 ...
        0.00494961089939594 0.00531358264950765 0.0056795462424664 ...
        0.00604888930362506 0.00641915675813886 0.00679162671429521 ...
        0.00716400051155282 0.00753747669299458 0.00790975642498079 ...
        0.00828194619021023 0.00865182320410073 0.00902045821597011 ...
        0.00938568374032802 0.00974844639808219 0.0101067197765985 ...
        0.0104614155975259 0.0108104039915843 0.0111546807109505 ...
        0.0114922740349574 0.0118238957475834 0.0121478808753258 ...
        0.0124647029860406 0.0127728843417071 0.0130729268683916 ...
        0.0133633212535841 0.0136445123419994 0.0139151646347411 ...
        0.0141756677803841 0.0144247868417997 0.0146628510149862 ...
        0.0148887473315547 0.0151027898605735 0.0153039444235023 ...
        0.0154924515120316 0.0156675253595276 0.0158293128065227 ...
        0.0159770030960695 0.0161109460903866 0.0162303082961452 ...
        0.0163354649506364 0.0164257627537523 0.0165013444976326 ...
        0.0165618760161421 0.016607456592197 0.0166378264599869 ...
        0.0166530501966831 0.0166530501966831 0.0166378264599869 ...
        0.016607456592197 0.0165618760161421 0.0165013444976326 ...
        0.0164257627537523 0.0163354649506364 0.0162303082961452 ...
        0.0161109460903866 0.0159770030960695 0.0158293128065227 ...
        0.0156675253595276 0.0154924515120316 0.0153039444235023 ...
        0.0151027898605735 0.0148887473315547 0.0146628510149862 ...
        0.0144247868417997 0.0141756677803841 0.0139151646347411 ...
        0.0136445123419994 0.0133633212535841 0.0130729268683916 ...
        0.0127728843417071 0.0124647029860406 0.0121478808753258 ...
        0.0118238957475834 0.0114922740349574 0.0111546807109505 ...
        0.0108104039915843 0.0104614155975259 0.0101067197765985 ...
        0.00974844639808219 0.00938568374032802 0.00902045821597011 ...
        0.00865182320410073 0.00828194619021023 0.00790975642498079 ...
        0.00753747669299458 0.00716400051155282 0.00679162671429521 ...
        0.00641915675813886 0.00604888930362506 0.0056795462424664 ...
        0.00531358264950765 0.00494961089939594 0.00458998959358492 ...
        0.00423342471942588 0.00388217678303762 0.00353494341090024 ...
        0.00319412208016574 0.00285801581397322 0.00252930786119086 ...
        0.00220617083070196 0.00189122924360331 0.00158261356471639 ...
        0.00128303602430044 0.000990433370464489 0.000707544855642286 ...
        0.000432209509897599 0.000167266610850078 -8.95818348332997e-05 ...
        -0.000335537313278097 -0.00057302727433589 -0.000799060087120097 ...
        -0.00101631209052853 -0.00122173547930658 -0.00141807182730666 ...
        -0.00160247454743406 -0.00177744369636902 -0.0019403015643772 ...
        -0.00209374617894246 -0.00223486002373023 -0.00236657539562549 ...
        -0.00248601321704277 -0.0025961294529883 -0.00269397149883711 ...
        -0.00278266626145204 -0.00285927526985806 -0.00292702242777762 ...
        -0.0029828401761419 -0.00303006488775246 -0.00306571651996931 ...
        -0.00309321449526719 -0.00310943850628714 -0.00311807430192534 ...
        -0.00311566414739369 -0.00310630722022104 -0.00308645371497825 ...
        -0.00306003356738356 -0.00302380348418043 -0.00298164655339628 ...
        -0.00293014841809055 -0.00287340448168746 -0.002808024100928 ...
        -0.0027380877990667 -0.00266009650545895 -0.00257823242858721 ...
        -0.00248905790313131 -0.00239682867106339 -0.00229795142200745 ...
        -0.00219670654595064 -0.00208958900728379 -0.00198077994615671 ...
        -0.00186693234553739 -0.00175216030808459 -0.001632851274335 ...
        -0.00151368275289244 -0.00139051221004003 -0.00126815799817963 ...
        -0.00114265770924771 -0.00101868868690765 -0.000892090267728646 ...
        -0.000767734089934754 -0.000641475648226786 -0.000518207632474128 ...
        -0.000393572317850755 -0.000272497041410604 -0.000150628377802098 ...
        -3.30062972378449e-05 8.49404214877799e-05 0.000198041321313486 ...
        0.000311016182430217 0.00041873946508293 0.000525581421484495 ...
        0.000627027046118917 0.000727140526321063 0.000821212528397549 ...
        0.000913944245483795 0.00100026337727936 0.00108476287949243 ...
        0.00116249972544881 0.0012383300660501 0.00130722191949569 ...
        0.00137399573658132 0.00143354383251466 0.00149088893351749 ...
        0.00154093696740458 0.00158871465351361 0.00162905377280144 ...
        0.00166715704011282 0.00169758477397891 0.00172618628546403 ...
        0.00174691215040528 0.00176577168794173 0.0017773228928091 ...
        0.00178664093365372 0.00178866706169709 0.00178894895014138 ...
        0.00178217491433402 0.00177369788161719 0.00175827612387598 ...
        0.00174146104260345 0.0017180538528681 0.00169349145302075 ...
        0.00166251097646845 0.00163063031306259 0.00159272619320376 ...
        0.00155421749985811 0.00151023832286883 0.00146574090102883 ...
        0.00141608534063225 0.00136671507068421 0.0013116360028037 ...
        0.00125780358022125 0.00119903642355467 0.00114131841271479 ...
        0.00107893824981192 0.00101823622047992 0.000953372703262313 ...
        0.000890435823949751 0.000823500837020355 0.000758862263434536 ...
        0.00069071197596245 0.000625346096621304 0.000556764329543758 ...
        0.000491301242235911 0.000422758089838919 0.000357680687338499 ...
        0.000290153968786913 0.000225557203644323 0.000160134189965881 ...
        9.76040007685686e-05 3.32509931339174e-05 -2.66942753039462e-05 ...
        -8.80631961032996e-05 -0.000145238105986163 -0.00020395818316426 ...
        -0.000258051565730504 -0.000313192406397168 -0.000363332968837833 ...
        -0.000414521747295659 -0.000460692021432531 -0.000507931244433517 ...
        -0.000549944000669254 -0.000592923460347705 -0.000630220922820118 ...
        -0.000669045829650577 -0.000700654891145056 -0.00073541690090017 ...
        -0.000763652885540707 -0.000791346731263913 -0.000815245143637052 ...
        -0.000839573934179043 -0.000858813413340542 -0.000877748138952258 ...
        -0.000891698336098395 -0.000905839094150332 -0.000915517938181733 ...
        -0.000925378087622209 -0.000930830545916118 -0.00093610252385712 ...
        -0.000937197903609569 -0.000937741859927759 -0.000935004048550001 ...
        -0.000930671517159595 -0.000925816672035829 -0.000917566190108477 ...
        -0.000903064332697958 -0.000900054206178999 -0.000883970367518158 ...
        -0.000871028401941008 -0.000851506665753313 -0.000836571675350147 ...
        -0.000816388832898544 -0.000799978307963765 -0.000778010513322322 ...
        -0.000759166927519048 -0.000734836916913251 -0.000713636296069794 ...
        -0.000687394047905297 -0.000664582413458953 -0.00063714309731461 ...
        -0.000613392864643802 -0.000585297090651504 -0.000561030920795385 ...
        -0.00564917652228809]);
end

y = step(Hd,double(x));


% [EOF]
